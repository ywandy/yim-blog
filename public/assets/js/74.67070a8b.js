(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{623:function(s,a,t){"use strict";t.r(a);var r=t(13),e=Object(r.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"log4j2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#log4j2"}},[s._v("#")]),s._v(" log4j2")]),s._v(" "),t("h3",{attrs:{id:"漏洞简述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#漏洞简述"}},[s._v("#")]),s._v(" 漏洞简述")]),s._v(" "),t("p",[s._v("在写日志的时候，通过日志参数远程调用，达到攻击者所需要的服务器或者数据库中的数据")]),s._v(" "),t("h3",{attrs:{id:"主要现象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主要现象"}},[s._v("#")]),s._v(" 主要现象")]),s._v(" "),t("p",[s._v('攻击的时候在logger.info("");中拼接一段idap调用的参数')]),s._v(" "),t("p",[s._v("ldap:rmi:1.1.1.1/username")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"sql注入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql注入"}},[s._v("#")]),s._v(" sql注入")]),s._v(" "),t("h3",{attrs:{id:"漏洞简述-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#漏洞简述-2"}},[s._v("#")]),s._v(" 漏洞简述：")]),s._v(" "),t("p",[s._v("在查询数据库的时候，通过拼接不安全的字符串，达到攻击者所需要的参数，如用户名，密码等")]),s._v(" "),t("h3",{attrs:{id:"主要现象-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主要现象-2"}},[s._v("#")]),s._v(" 主要现象")]),s._v(" "),t("p",[s._v("字符串拼接")]),s._v(" "),t("p",[s._v("如：")]),s._v(" "),t("p",[s._v("Mybatis中的${}与#{}")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#参数是 ccjj")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" userName "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('" ccjj"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('#参数是 cjj" or 1=1 ')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("user")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" userName "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cjj"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("or")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h3",{attrs:{id:"解决方案-针对登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决方案-针对登录"}},[s._v("#")]),s._v(" 解决方案（针对登录）")]),s._v(" "),t("p",[s._v("1.过滤（不安全的输入过滤），或者做预编译")]),s._v(" "),t("p",[s._v("2.在获取用户名密码时在redis存储的token中取，redis做expireTime的限制")]),s._v(" "),t("p",[s._v("注：加密要放在后端加密，通过抓包没办法更改，因为不知道加密方式，直接把值改成sql注入的语录没用，传回服务器要做对应的解密")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"xss注入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#xss注入"}},[s._v("#")]),s._v(" XSS注入")]),s._v(" "),t("h3",{attrs:{id:"漏洞简述-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#漏洞简述-3"}},[s._v("#")]),s._v(" 漏洞简述")]),s._v(" "),t("p",[s._v("xss注入作为一种很常见的前端攻击方法。")]),s._v(" "),t("h3",{attrs:{id:"主要现象-3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主要现象-3"}},[s._v("#")]),s._v(" 主要现象")]),s._v(" "),t("p",[s._v("针对前端")]),s._v(" "),t("div",{staticClass:"language-html line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-html"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("\x3c!--正常输入的是chenjunjie--\x3e")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("a")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("value")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("chenjunjie"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("chenjunjie"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("a")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('\x3c!--但是被攻击的时候输入 \nchenjunjie" > <img src="" onerror=alert(1)><""\n就变成了 --\x3e')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("a")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("value")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("chenjunjie"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("img")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("src")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token special-attr"}},[t("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("onerror")]),t("span",{pre:!0,attrs:{class:"token attr-value"}},[t("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token value javascript language-javascript"}},[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("alert")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")])])])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v('chenjunjie">'),t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("a")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("以上的xss攻击")]),s._v(" "),t("h3",{attrs:{id:"解决方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#解决方案"}},[s._v("#")]),s._v(" 解决方案")]),s._v(" "),t("p",[s._v("输出转义（标签转义） 输入过滤（正则过滤）")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"业务一致性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#业务一致性"}},[s._v("#")]),s._v(" 业务一致性")]),s._v(" "),t("p",[s._v("前端—传价格（抓包修改信息）")]),s._v(" "),t("p",[s._v("后端无做鉴权")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"越权"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#越权"}},[s._v("#")]),s._v(" 越权")]),s._v(" "),t("p",[s._v("解决方案")]),s._v(" "),t("p",[s._v("不要相信任何前端传过来的任何信息，要从session、cockie或者redis中获取")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"反序列化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#反序列化"}},[s._v("#")]),s._v(" 反序列化")]),s._v(" "),t("p",[s._v("在传输json时，恶意传输一些能获取到关键信息的代码")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"sdl"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sdl"}},[s._v("#")]),s._v(" sdl")]),s._v(" "),t("p",[s._v("描述开发声明周期如何做到安全")]),s._v(" "),t("p",[s._v("1.需求分析 对相关的开发人员、运维做安全培训 （鉴权、传输协议、传输解密）")]),s._v(" "),t("p",[s._v("2.开发 代码仓库—sonar（fortify）定期扫描")]),s._v(" "),t("p",[s._v("3.测试 漏洞扫描web—对所有输入的参数做测试（黑盒测试）")]),s._v(" "),t("p",[s._v("主机漏洞扫描（扫服务器）")]),s._v(" "),t("p",[s._v("4.发布阶段 —对基线检查")]),s._v(" "),t("p",[s._v("5.上线 — 安全监控 定期扫描")])])}),[],!1,null,null,null);a.default=e.exports}}]);