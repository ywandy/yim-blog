(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{587:function(s,n,e){"use strict";e.r(n);var a=e(13),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"使用探针保持pod健康"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用探针保持pod健康"}},[s._v("#")]),s._v(" 使用探针保持Pod健康")]),s._v(" "),e("p",[s._v("针对运行中的容器，"),e("code",[s._v("kubelet")]),s._v(" 可以选择是否执行以下三种探针，以及如何针对探测结果作出反应：")]),s._v(" "),e("ul",[e("li",[e("p",[e("code",[s._v("livenessProbe")]),s._v("：指示容器是否正在运行。如果存活态探测失败，则 kubelet 会杀死容器， 并且容器将根据其"),e("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy",target:"_blank",rel:"noopener noreferrer"}},[s._v("重启策略"),e("OutboundLink")],1),s._v("决定未来。如果容器不提供存活探针， 则默认状态为 "),e("code",[s._v("Success")]),s._v("。如果容器中的进程能够在遇到问题或不健康的情况下自行崩溃，则不一定需要存活态探针; "),e("code",[s._v("kubelet")]),s._v(" 将根据 Pod 的"),e("code",[s._v("restartPolicy")]),s._v(" 自动执行修复操作。如果你希望容器在探测失败时被杀死并重新启动，那么请指定一个存活态探针， 并指定"),e("code",[s._v("restartPolicy")]),s._v(' 为 "'),e("code",[s._v("Always")]),s._v('" 或 "'),e("code",[s._v("OnFailure")]),s._v('"。')])]),s._v(" "),e("li",[e("p",[e("code",[s._v("readinessProbe")]),s._v("：指示容器是否准备好为请求提供服务。如果就绪态探测失败， 端点控制器将从与 Pod 匹配的所有服务的端点列表中删除该 Pod 的 IP 地址。 初始延迟之前的就绪态的状态值默认为 "),e("code",[s._v("Failure")]),s._v("。 如果容器不提供就绪态探针，则默认状态为 "),e("code",[s._v("Success")]),s._v("。如果要仅在探测成功时才开始向 Pod 发送请求流量，请指定就绪态探针。 在这种情况下，就绪态探针可能与存活态探针相同，但是规约中的就绪态探针的存在意味着 Pod 将在启动阶段不接收任何数据，并且只有在探针探测成功后才开始接收数据。")])]),s._v(" "),e("li",[e("p",[e("code",[s._v("startupProbe")]),s._v(": 指示容器中的应用是否已经启动。如果提供了启动探针，则所有其他探针都会被 禁用，直到此探针成功为止。如果启动探测失败，"),e("code",[s._v("kubelet")]),s._v(" 将杀死容器，而容器依其 "),e("a",{attrs:{href:"https://kubernetes.io/zh/docs/concepts/workloads/pods/pod-lifecycle/#restart-policy",target:"_blank",rel:"noopener noreferrer"}},[s._v("重启策略"),e("OutboundLink")],1),s._v("进行重启。 如果容器没有提供启动探测，则默认状态为 "),e("code",[s._v("Success")]),s._v("。对于所包含的容器需要较长时间才能启动就绪的 Pod 而言，启动探针是有用的。 你不再需要配置一个较长的存活态探测时间间隔，只需要设置另一个独立的配置选定， 对启动期间的容器执行探测，从而允许使用远远超出存活态时间间隔所允许的时长。")])])]),s._v(" "),e("h3",{attrs:{id:"存活探针"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#存活探针"}},[s._v("#")]),s._v(" 存活探针")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat liveness-pod.yaml")]),s._v("\napiVersion: v1\nkind: Pod\nmetadata:\n  labels:\n    test: liveness\n  name: liveness-exec\nspec:\n  containers:\n  - name: liveness\n    image: busybox\n    imagePullPolicy: IfNotPresent\n    args:\n    - /bin/sh\n    - -c\n    - "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" /tmp/healthy"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /tmp/healthy"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v("\n    livenessProbe:\n      exec:\n        command:\n        - "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v("\n        - /tmp/healthy\n      initialDelaySeconds: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n      periodSeconds: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("p",[e("code",[s._v("periodSeconds")]),s._v(" 字段指定了 kubelet 应该每 5 秒执行一次存活探测。")]),s._v(" "),e("p",[e("code",[s._v("nitialDelaySeconds")]),s._v(" 字段告诉 kubelet 在执行第一次探测前应该等待 5 秒。")]),s._v(" "),e("p",[s._v("kubelet 在容器内执行命令 "),e("code",[s._v("cat /tmp/healthy")]),s._v(" 来进行探测。 如果命令执行成功并且返回值为 0，kubelet 就会认为这个容器是健康存活的。")]),s._v(" "),e("p",[s._v("这个容器生命的前 30 秒， "),e("code",[s._v("/tmp/healthy")]),s._v(" 文件是存在的。 所以在这最开始的 30 秒内，执行命令 "),e("code",[s._v("cat /tmp/healthy")]),s._v(" 会返回成功代码。 30 秒之后，执行命令 "),e("code",[s._v("cat /tmp/healthy")]),s._v(" 就会返回失败代码。")]),s._v(" "),e("h3",{attrs:{id:"创建pod-观察状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建pod-观察状态"}},[s._v("#")]),s._v(" 创建Pod，观察状态")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl apply -f liveness-pod.yaml -n mytest")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get pod -n mytest  --watch")]),s._v("\nNAME            READY   STATUS    RESTARTS   AGE\nbusybox         "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("43")]),s._v("         4d23h\ndns             "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("42")]),s._v("         4d21h\nliveness-exec   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          19s\nliveness-exec   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("          75s\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl describe pod -n mytest liveness-exec")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\nEvents:\n  Type     Reason     Age                  From               Message\n  ----     ------     ----                 ----               -------\n  Normal   Scheduled  2m11s                default-scheduler  Successfully assigned mytest/liveness-exec to worker2.example.com\n  Normal   Pulled     57s "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x2 over 2m11s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  kubelet            Container image "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"busybox"')]),s._v(" already present on machine\n  Normal   Created    56s "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x2 over 2m11s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  kubelet            Created container liveness\n  Normal   Started    56s "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x2 over 2m10s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  kubelet            Started container liveness\n  Warning  Unhealthy  12s "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x6 over 97s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    kubelet            Liveness probe failed: cat: can"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t open '")]),s._v("/tmp/healthy': No such "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n  Normal   Killing    12s "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x2 over 87s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    kubelet            Container liveness failed liveness probe, will be restarted\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br")])]),e("p",[s._v("存活探针支持exec，httpGet，tcpSocket等多种不同的探测方式及其他相关参数配置：")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl explain Pod.spec.containers.livenessProbe")]),s._v("\nKIND:     Pod\nVERSION:  v1\n\nRESOURCE: livenessProbe "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Object"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n\nDESCRIPTION:\n     Periodic probe of container liveness. Container will be restarted "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" the\n     probe fails. Cannot be updated. More info:\n     https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#container-probes")]),s._v("\n\n     Probe describes a health check to be performed against a container to\n     determine whether it is alive or ready to receive traffic.\n\nFIELDS:\n   "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Object"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n     One and only one of the following should be specified. Exec specifies the\n     action to take.\n\n   failureThreshold "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("integer"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n     Minimum consecutive failures "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the probe to be considered failed after\n     having succeeded. Defaults to "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(". Minimum value is "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".\n\n   httpGet      "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Object"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n     HTTPGet specifies the http request to perform.\n\n   initialDelaySeconds  "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("integer"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n     Number of seconds after the container has started before liveness probes\n     are initiated. More info:\n     https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#container-probes")]),s._v("\n\n   periodSeconds    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("integer"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n     How often "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("in seconds"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" to perform the probe. Default to "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" seconds. Minimum\n     value is "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".\n\n   successThreshold "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("integer"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n     Minimum consecutive successes "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the probe to be considered successful\n     after having failed. Defaults to "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". Must be "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" liveness and startup.\n     Minimum value is "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".\n\n   tcpSocket    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("Object"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n     TCPSocket specifies an action involving a TCP port. TCP hooks not yet\n     supported\n\n   timeoutSeconds   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("integer"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n     Number of seconds after "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" the probe "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("times")]),s._v(" out. Defaults to "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" second.\n     Minimum value is "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(". More info:\n     https://kubernetes.io/docs/concepts/workloads/pods/pod-lifecycle"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#container-probes")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br"),e("span",{staticClass:"line-number"},[s._v("24")]),e("br"),e("span",{staticClass:"line-number"},[s._v("25")]),e("br"),e("span",{staticClass:"line-number"},[s._v("26")]),e("br"),e("span",{staticClass:"line-number"},[s._v("27")]),e("br"),e("span",{staticClass:"line-number"},[s._v("28")]),e("br"),e("span",{staticClass:"line-number"},[s._v("29")]),e("br"),e("span",{staticClass:"line-number"},[s._v("30")]),e("br"),e("span",{staticClass:"line-number"},[s._v("31")]),e("br"),e("span",{staticClass:"line-number"},[s._v("32")]),e("br"),e("span",{staticClass:"line-number"},[s._v("33")]),e("br"),e("span",{staticClass:"line-number"},[s._v("34")]),e("br"),e("span",{staticClass:"line-number"},[s._v("35")]),e("br"),e("span",{staticClass:"line-number"},[s._v("36")]),e("br"),e("span",{staticClass:"line-number"},[s._v("37")]),e("br"),e("span",{staticClass:"line-number"},[s._v("38")]),e("br"),e("span",{staticClass:"line-number"},[s._v("39")]),e("br"),e("span",{staticClass:"line-number"},[s._v("40")]),e("br"),e("span",{staticClass:"line-number"},[s._v("41")]),e("br"),e("span",{staticClass:"line-number"},[s._v("42")]),e("br"),e("span",{staticClass:"line-number"},[s._v("43")]),e("br"),e("span",{staticClass:"line-number"},[s._v("44")]),e("br"),e("span",{staticClass:"line-number"},[s._v("45")]),e("br"),e("span",{staticClass:"line-number"},[s._v("46")]),e("br"),e("span",{staticClass:"line-number"},[s._v("47")]),e("br"),e("span",{staticClass:"line-number"},[s._v("48")]),e("br")])]),e("h3",{attrs:{id:"就绪探针"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#就绪探针"}},[s._v("#")]),s._v(" 就绪探针")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat readiness-pod.yaml")]),s._v("\napiVersion: v1\nkind: Pod\nmetadata:\n  labels:\n    test: liveness\n  name: readiness-exec\nspec:\n  containers:\n  - name: liveness\n    image: busybox\n    imagePullPolicy: IfNotPresent\n    args:\n    - /bin/sh\n    - -c\n    - "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("touch")]),s._v(" /tmp/healthy"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("30")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" -rf /tmp/healthy"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sleep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("600")]),s._v("\n    readinessProbe:\n      exec:\n        command:\n        - "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v("\n        - /tmp/healthy\n      initialDelaySeconds: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n      periodSeconds: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get pod -w")]),s._v("\nNAME                                              READY   STATUS      RESTARTS   AGE\nreadiness-exec                                    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          25s\nreadiness-exec                                    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     Running     "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          43s\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl describe pod readiness-exec")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\nEvents:\n  Type     Reason     Age               From               Message\n  ----     ------     ----              ----               -------\n  Normal   Scheduled  68s               default-scheduler  Successfully assigned default/readiness-exec to worker2.example.com\n  Normal   Pulled     68s               kubelet            Container image "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"busybox"')]),s._v(" already present on machine\n  Normal   Created    68s               kubelet            Created container liveness\n  Normal   Started    67s               kubelet            Started container liveness\n  Warning  Unhealthy  1s "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x8 over 36s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  kubelet            Readiness probe failed: cat: can"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t open '")]),s._v("/tmp/healthy': No such "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br")])]),e("h2",{attrs:{id:"replicaset基础"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#replicaset基础"}},[s._v("#")]),s._v(" ReplicaSet基础")]),s._v(" "),e("p",[s._v("ReplicaSet 的目的是维护一组在任何时候都处于运行状态的 Pod 副本的稳定集合。 因此，它通常用来保证给定数量的、完全相同的 Pod 的可用性。")]),s._v(" "),e("p",[s._v("RepicaSet 是通过一组字段来定义的，包括一个用来识别可获得的 Pod 的集合的选择算符、一个用来标明应该维护的副本个数的数值、一个用来指定应该创建新 Pod 以满足副本个数条件时要使用的 Pod 模板等等。 每个 ReplicaSet 都通过根据需要创建和 删除 Pod 以使得副本个数达到期望值， 进而实现其存在价值。当 ReplicaSet 需要创建新的 Pod 时，会使用所提供的 Pod 模板。")]),s._v(" "),e("p",[s._v("ReplicaSet 确保任何时间都有指定数量的 Pod 副本在运行。 然而，Deployment 是一个更高级的概念，它管理 ReplicaSet，并向 Pod 提供声明式的更新以及许多其他有用的功能。 因此，我们建议使用 Deployment 而不是直接使用 ReplicaSet，除非 你需要自定义更新业务流程或根本不需要更新。")]),s._v(" "),e("p",[s._v("这实际上意味着，你可能永远不需要操作 ReplicaSet 对象：而是使用 Deployment，并在 spec 部分定义你的应用。")]),s._v(" "),e("h3",{attrs:{id:"创建replicaset"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#创建replicaset"}},[s._v("#")]),s._v(" 创建ReplicaSet")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# cat replicaset.yaml")]),s._v("\napiVersion: apps/v1\nkind: ReplicaSet\nmetadata:\n  name: myweb\n  namespace: mytest\n  labels:\n    app: guestbook\n    tier: web\nspec:\n  replicas: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n  selector:\n    matchLabels:\n      tier: web\n  template:\n    metadata:\n      labels:\n        tier: web\n    spec:\n      containers:\n      - name: nginx\n        image: nginx\n        imagePullPolicy: IfNotPresent\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br"),e("span",{staticClass:"line-number"},[s._v("23")]),e("br")])]),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl apply -f replicaset.yaml")]),s._v("\nreplicaset.apps/myweb created\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get pod -n mytest")]),s._v("\nNAME          READY   STATUS              RESTARTS   AGE\nmyweb-6tvp2   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     ContainerCreating   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          11s\nmyweb-krfmq   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     ContainerCreating   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          11s\nmyweb-l8qhv   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     ContainerCreating   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          11s\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br")])]),e("h3",{attrs:{id:"修改副本数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改副本数"}},[s._v("#")]),s._v(" 修改副本数")]),s._v(" "),e("h4",{attrs:{id:"命令行编辑"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令行编辑"}},[s._v("#")]),s._v(" 命令行编辑")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 修改RS，设置副本数为1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl edit -n mytest rs myweb")]),s._v("\nreplicaset.apps/myweb edited\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get pod -n mytest")]),s._v("\nNAME          READY   STATUS    RESTARTS   AGE\nmyweb-6tvp2   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          10m\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("h4",{attrs:{id:"修改yaml文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改yaml文件"}},[s._v("#")]),s._v(" 修改yaml文件")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("## 修改yaml文件，设置副本数为2")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# vim replicaset.yaml")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("\nspec:\n  replicas: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl apply -f replicaset.yaml")]),s._v("\nreplicaset.apps/myweb configured\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get pod -n mytest")]),s._v("\nNAME          READY   STATUS    RESTARTS   AGE\nmyweb-6tvp2   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          21m\nmyweb-jtncn   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          6s\n\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br")])]),e("h4",{attrs:{id:"命令行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#命令行"}},[s._v("#")]),s._v(" 命令行")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl scale --replicas=4 replicaset myweb -n mytest")]),s._v("\nreplicaset.apps/myweb scaled\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl get pod -n mytest")]),s._v("\nNAME          READY   STATUS    RESTARTS   AGE\nmyweb-6tvp2   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          22m\nmyweb-bmbv8   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          5s\nmyweb-glslz   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          5s\nmyweb-jtncn   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          116s\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br")])]),e("h3",{attrs:{id:"删除rs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#删除rs"}},[s._v("#")]),s._v(" 删除RS")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@clientvm ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl delete -n mytest rs myweb")]),s._v("\nreplicaset.apps "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"myweb"')]),s._v(" deleted\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);